name: Newsletter Cron (Every Hour)

on:
  schedule:
    # Runs every hour at minute 0
    - cron: '0 * * * *'
  workflow_dispatch: # Allows manual triggering

jobs:
  send-newsletter:
    runs-on: ubuntu-latest
    
    steps:
    - name: Trigger Newsletter
      run: |
        echo "ðŸ“§ Triggering newsletter from GitHub Actions..."
        curl -s -X GET \
          -H "Content-Type: application/json" \
          -H "User-Agent: GitHub-Actions" \
          "https://testbackend-qbv22nq90-ajay-s-projects-7337fb6b.vercel.app/api/cron/newsletter"
        
        echo "âœ… Newsletter triggered successfully"
